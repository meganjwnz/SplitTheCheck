<p id="notice"><%= notice %></p>

<h1>Restaurants</h1>
<div class="topnav">
<div class="search-container">
<%= form_for "", url: restaurants_path, role: "search", method: :get do %>
<%= text_field_tag :search_name, @search_term_name,placeholder: "Restaurant ... " %> 
<%= text_field_tag :search_address, @search_term_address,placeholder: "Address ... " %>
<%= submit_tag "Search" %>
</div>
<% end %> 
</div>


<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Address</th>
      <th>Upvotes</th>
      <th>Downvotes</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @restaurants.each do |restaurant| %>
      <tr>
        <td><%= restaurant.name %></td>
        <td><%= restaurant.address %></td>
        
	<td><%= restaurant.upvote %></td>
        <td><%= link_to 'Upvote',  {:controller => 'restaurants',
                                   :action => "upvote",
                                   :id => restaurant.id,
				   :upvote => restaurant.upvote,
                                   :decision => "true"}, method: 'post'%>
        
	<td><%= restaurant.downvote %></td></td>
	<td><%= link_to 'Downvote',{:controller => 'restaurants',
                                   :action => "downvote",
                                   :id => restaurant.id,
				   :downvote => restaurant.downvote,
                                   :decision => "true"}, method: 'post'%>

        <td><%= link_to 'Show', restaurant %></td>
        <td><%= link_to 'Edit', edit_restaurant_path(restaurant) %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
<%= link_to 'New Restaurant', new_restaurant_path %>
